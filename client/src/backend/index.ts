// Generated by the RPC compiler.
// DO NOT EDIT.

//////////////////////////////
// Types defined in the types file
//////////////////////////////

export interface User {
    id: string;
    email: string;
    firstName: string;
    lastName: string;
    avatar?: string;
    gender?: string;
    title?: string;
    bio?: string;
}

export type Token = string;

export interface Featured {
    background: string;
    title: string;
    description: string;
}

export interface Assessment {
    id: string;
    title: string;
    description?: string;
    courseId: string;
    startDate?: string;
    dueDate?: string;
    type: string;
    questions: Question[];
    submissions: Submission[];
    totalPoints?: number;
}

export interface Question {
    id: string;
    assessmentId: string;
    title: string;
    type: string;
    options?: any;
    answer?: string;
    points: number;
}

export interface NewQuestion {
    title: string;
    type: string;
    options?: any;
    answer?: string;
    points: number;
}

export interface Submission {
    id: string;
    assessmentId: string;
    studentId: string;
    submittedAt?: string;
    assignmentContent?: any;
    answers?: any;
    feedback?: string;
    grade?: number;
    isMarked: boolean;
}

export interface Course {
    id: string;
    name: string;
    code?: string;
    description?: string;
    imageURL?: string;
    createdBy: User;
    createdAt: number;
}

export interface UserStats {
    coursesInProgress: number;
    coursesCompleted: number;
    tasksFinished: number;
}

export interface UserSevenDayActivity {
    activities: number[];
}

export interface CourseMembership {
    userId: string;
    courseId: string;
    role: string;
    createdAt: number;
}

export interface Forum {
    id: string;
    courseID: string;
    name: string;
    createdAt: number;
    createdBy?: User;
}

export interface Thread {
    id: string;
    forumID: string;
    createdAt: number;
    updatedAt: number;
    createdBy?: User;
    deletedAt?: number;
    title: string;
    posts: Post[];
    isAnnouncement: boolean;
}

export interface ThreadStats {
    threadID: string;
    views: number;
}

export interface PostStats {
    postID: string;
    likes: number;
    liked: boolean;
}

export interface Post {
    id: string;
    threadID: string;
    createdAt: number;
    updatedAt: number;
    createdBy?: User;
    deletedAt?: number;
    content: any;
}

export interface Event {
    name: string;
    time: string;
    type: string;
    url: string;
}

export interface ScheduleClass {
    courseID: string;
    startDate: string;
    classType: string;
    classLink: string;
}

export interface DriveItem {
    id: string;
    url: string;
    name: string;
}

export interface DriveFolderInfo {
    id: string;
    name: string;
}

export interface DriveFolder {
    parentFolderId?: string;
    id: string;
    name: string;
    items: (DriveFolderInfo | DriveItem)[];
}

export interface CourseBook {
    id: string;
    title: string;
    parentID?: string;
    childrenIDs?: string[];
    content?: any;
    course?: Course;
    parent?: CourseBook;
    children?: CourseBook[];
}

//////////////////////////////
// Endpoint Requests/Responses
//////////////////////////////


// PingRequest is the request that is sent to the ping endpoint.
export interface PingRequest {
    seq: number;
}

// PingResponse is the response that is sent to the ping endpoint.
export interface PingResponse {
    seq: number;
}

// CheckEmailRequest is the request that is sent to the checkEmail endpoint.
export interface CheckEmailRequest {
    email: string;
}

// CheckEmailResponse is the response that is sent to the checkEmail endpoint.
export interface CheckEmailResponse {
    taken: boolean;
}

// RegisterRequest is the request that is sent to the register endpoint.
export interface RegisterRequest {
    email: string;
    password: string;
    firstName: string;
    lastName: string;
    otp: string;
}

// RegisterResponse is the response that is sent to the register endpoint.
export interface RegisterResponse {

}

// VerifyEmailRequest is the request that is sent to the verifyEmail endpoint.
export interface VerifyEmailRequest {
    email: string;
}

// VerifyEmailResponse is the response that is sent to the verifyEmail endpoint.
export interface VerifyEmailResponse {

}

// LoginRequest is the request that is sent to the login endpoint.
export interface LoginRequest {
    email: string;
    password: string;
}

// LoginResponse is the response that is sent to the login endpoint.
export interface LoginResponse {
    user: User;
    token: Token;
}

// VerifyForgotPasswordRequest is the request that is sent to the verifyForgotPassword endpoint.
export interface VerifyForgotPasswordRequest {
    email: string;
}

// VerifyForgotPasswordResponse is the response that is sent to the verifyForgotPassword endpoint.
export interface VerifyForgotPasswordResponse {

}

// ForgotPasswordRequest is the request that is sent to the forgotPassword endpoint.
export interface ForgotPasswordRequest {
    email: string;
    newPassword: string;
    otp: string;
}

// ForgotPasswordResponse is the response that is sent to the forgotPassword endpoint.
export interface ForgotPasswordResponse {

}

// GetFeaturedRequest is the request that is sent to the getFeatured endpoint.
export interface GetFeaturedRequest {

}

// GetFeaturedResponse is the response that is sent to the getFeatured endpoint.
export interface GetFeaturedResponse {
    featured: Featured;
}

// GetUserInfoRequest is the request that is sent to the getUserInfo endpoint.
export interface GetUserInfoRequest {
    email?: string;
}

// GetUserInfoResponse is the response that is sent to the getUserInfo endpoint.
export interface GetUserInfoResponse {
    user: User;
}

// GetUserInfoByIDRequest is the request that is sent to the getUserInfoByID endpoint.
export interface GetUserInfoByIDRequest {
    id: string;
}

// GetUserInfoByIDResponse is the response that is sent to the getUserInfoByID endpoint.
export interface GetUserInfoByIDResponse {
    user: User;
}

// GetUserInfoByIDsRequest is the request that is sent to the getUserInfoByIDs endpoint.
export interface GetUserInfoByIDsRequest {
    ids: string[];
}

// GetUserInfoByIDsResponse is the response that is sent to the getUserInfoByIDs endpoint.
export interface GetUserInfoByIDsResponse {
    users: Record<string, User>;
}

// SetUserProfileRequest is the request that is sent to the setUserProfile endpoint.
export interface SetUserProfileRequest {
    user: User;
}

// SetUserProfileResponse is the response that is sent to the setUserProfile endpoint.
export interface SetUserProfileResponse {

}

// ResetPasswordRequest is the request that is sent to the resetPassword endpoint.
export interface ResetPasswordRequest {
    password: string;
    newPassword: string;
}

// ResetPasswordResponse is the response that is sent to the resetPassword endpoint.
export interface ResetPasswordResponse {

}

// CreateAssessmentRequest is the request that is sent to the createAssessment endpoint.
export interface CreateAssessmentRequest {
    title: string;
    description?: string;
    courseId: string;
    startDate?: string;
    dueDate?: string;
    type: string;
    questions?: NewQuestion[];
}

// CreateAssessmentResponse is the response that is sent to the createAssessment endpoint.
export interface CreateAssessmentResponse {
    assessment: Assessment;
}

// SubmitAnswersRequest is the request that is sent to the submitAnswers endpoint.
export interface SubmitAnswersRequest {
    assessmentId: string;
    answers: any;
}

// SubmitAnswersResponse is the response that is sent to the submitAnswers endpoint.
export interface SubmitAnswersResponse {
    submission: Submission;
}

// SubmitAssignmentRequest is the request that is sent to the submitAssignment endpoint.
export interface SubmitAssignmentRequest {
    assessmentId: string;
    assignmentContent: any;
}

// SubmitAssignmentResponse is the response that is sent to the submitAssignment endpoint.
export interface SubmitAssignmentResponse {
    submission: Submission;
}

// ManualGradeSubmissionRequest is the request that is sent to the manualGradeSubmission endpoint.
export interface ManualGradeSubmissionRequest {
    submissionId: string;
    saqGrades: number;
}

// ManualGradeSubmissionResponse is the response that is sent to the manualGradeSubmission endpoint.
export interface ManualGradeSubmissionResponse {
    submission: Submission;
}

// AssignmentGradeSubmissionRequest is the request that is sent to the assignmentGradeSubmission endpoint.
export interface AssignmentGradeSubmissionRequest {
    submissionId: string;
    grades: number;
    feedback: string;
}

// AssignmentGradeSubmissionResponse is the response that is sent to the assignmentGradeSubmission endpoint.
export interface AssignmentGradeSubmissionResponse {
    submission: Submission;
}

// FetchAssessmentDetailsTeacherRequest is the request that is sent to the fetchAssessmentDetailsTeacher endpoint.
export interface FetchAssessmentDetailsTeacherRequest {
    assessmentId: string;
}

// FetchAssessmentDetailsTeacherResponse is the response that is sent to the fetchAssessmentDetailsTeacher endpoint.
export interface FetchAssessmentDetailsTeacherResponse {
    assessment: Assessment;
}

// FetchAssessmentDetailsStudentRequest is the request that is sent to the fetchAssessmentDetailsStudent endpoint.
export interface FetchAssessmentDetailsStudentRequest {
    assessmentId: string;
}

// FetchAssessmentDetailsStudentResponse is the response that is sent to the fetchAssessmentDetailsStudent endpoint.
export interface FetchAssessmentDetailsStudentResponse {
    assessment: Assessment;
}

// FetchAssessmentSubmissionsRequest is the request that is sent to the fetchAssessmentSubmissions endpoint.
export interface FetchAssessmentSubmissionsRequest {
    assessmentId: string;
}

// FetchAssessmentSubmissionsResponse is the response that is sent to the fetchAssessmentSubmissions endpoint.
export interface FetchAssessmentSubmissionsResponse {
    submissions: Submission[];
}

// FetchSubmissionRequest is the request that is sent to the fetchSubmission endpoint.
export interface FetchSubmissionRequest {
    submissionId: string;
}

// FetchSubmissionResponse is the response that is sent to the fetchSubmission endpoint.
export interface FetchSubmissionResponse {
    submission: Submission;
}

// FetchAssessmentsRequest is the request that is sent to the fetchAssessments endpoint.
export interface FetchAssessmentsRequest {
    courseId: string;
}

// FetchAssessmentsResponse is the response that is sent to the fetchAssessments endpoint.
export interface FetchAssessmentsResponse {
    assessments: Assessment[];
}

// FetchStudentSubmissionRequest is the request that is sent to the fetchStudentSubmission endpoint.
export interface FetchStudentSubmissionRequest {

}

// FetchStudentSubmissionResponse is the response that is sent to the fetchStudentSubmission endpoint.
export interface FetchStudentSubmissionResponse {
    submissions: Submission[];
}

// FetchUserStatsRequest is the request that is sent to the fetchUserStats endpoint.
export interface FetchUserStatsRequest {

}

// FetchUserStatsResponse is the response that is sent to the fetchUserStats endpoint.
export interface FetchUserStatsResponse {
    stats: UserStats;
}

// FetchUserSevenDayActivityRequest is the request that is sent to the fetchUserSevenDayActivity endpoint.
export interface FetchUserSevenDayActivityRequest {

}

// FetchUserSevenDayActivityResponse is the response that is sent to the fetchUserSevenDayActivity endpoint.
export interface FetchUserSevenDayActivityResponse {
    activity: UserSevenDayActivity;
}

// CreateCourseRequest is the request that is sent to the createCourse endpoint.
export interface CreateCourseRequest {
    name: string;
    description: string;
    code?: string;
    imageURL?: string;
}

// CreateCourseResponse is the response that is sent to the createCourse endpoint.
export interface CreateCourseResponse {
    course: Course;
}

// UpdateCourseRequest is the request that is sent to the updateCourse endpoint.
export interface UpdateCourseRequest {
    id: string;
    name: string;
    description: string;
    code?: string;
    imageURL?: string;
}

// UpdateCourseResponse is the response that is sent to the updateCourse endpoint.
export interface UpdateCourseResponse {
    course: Course;
}

// GetCoursesRequest is the request that is sent to the getCourses endpoint.
export interface GetCoursesRequest {
    courseIds: string[];
}

// GetCoursesResponse is the response that is sent to the getCourses endpoint.
export interface GetCoursesResponse {
    courses: Course[];
}

// GetUserCoursesRequest is the request that is sent to the getUserCourses endpoint.
export interface GetUserCoursesRequest {

}

// GetUserCoursesResponse is the response that is sent to the getUserCourses endpoint.
export interface GetUserCoursesResponse {
    courses: Course[];
    memberships: CourseMembership[];
}

// CreateCourseInvitationRequest is the request that is sent to the createCourseInvitation endpoint.
export interface CreateCourseInvitationRequest {
    courseId: string;
    role: string;
}

// CreateCourseInvitationResponse is the response that is sent to the createCourseInvitation endpoint.
export interface CreateCourseInvitationResponse {
    code: string;
}

// JoinCourseRequest is the request that is sent to the joinCourse endpoint.
export interface JoinCourseRequest {
    code: string;
}

// JoinCourseResponse is the response that is sent to the joinCourse endpoint.
export interface JoinCourseResponse {
    course: Course;
}

// LeaveCourseRequest is the request that is sent to the leaveCourse endpoint.
export interface LeaveCourseRequest {
    courseId: string;
}

// LeaveCourseResponse is the response that is sent to the leaveCourse endpoint.
export interface LeaveCourseResponse {

}

// RemoveMemberFromCourseRequest is the request that is sent to the removeMemberFromCourse endpoint.
export interface RemoveMemberFromCourseRequest {
    userID: string;
    courseID: string;
}

// RemoveMemberFromCourseResponse is the response that is sent to the removeMemberFromCourse endpoint.
export interface RemoveMemberFromCourseResponse {

}

// GetForumByCourseIDRequest is the request that is sent to the getForumByCourseID endpoint.
export interface GetForumByCourseIDRequest {
    courseID: string;
}

// GetForumByCourseIDResponse is the response that is sent to the getForumByCourseID endpoint.
export interface GetForumByCourseIDResponse {
    forum: Forum;
}

// GetForumByIDRequest is the request that is sent to the getForumByID endpoint.
export interface GetForumByIDRequest {
    id: string;
}

// GetForumByIDResponse is the response that is sent to the getForumByID endpoint.
export interface GetForumByIDResponse {
    forum: Forum;
}

// GetThreadsRequest is the request that is sent to the getThreads endpoint.
export interface GetThreadsRequest {
    forumID: string;
}

// GetThreadsResponse is the response that is sent to the getThreads endpoint.
export interface GetThreadsResponse {
    threads: Thread[];
}

// UpsertThreadRequest is the request that is sent to the upsertThread endpoint.
export interface UpsertThreadRequest {
    thread: Thread;
}

// UpsertThreadResponse is the response that is sent to the upsertThread endpoint.
export interface UpsertThreadResponse {
    thread: Thread;
}

// DeleteThreadRequest is the request that is sent to the deleteThread endpoint.
export interface DeleteThreadRequest {
    threadID: string;
}

// DeleteThreadResponse is the response that is sent to the deleteThread endpoint.
export interface DeleteThreadResponse {

}

// UpsertPostRequest is the request that is sent to the upsertPost endpoint.
export interface UpsertPostRequest {
    post: Post;
}

// UpsertPostResponse is the response that is sent to the upsertPost endpoint.
export interface UpsertPostResponse {
    post: Post;
}

// DeletePostRequest is the request that is sent to the deletePost endpoint.
export interface DeletePostRequest {
    postID: string;
}

// DeletePostResponse is the response that is sent to the deletePost endpoint.
export interface DeletePostResponse {

}

// GetRoleInCourseRequest is the request that is sent to the getRoleInCourse endpoint.
export interface GetRoleInCourseRequest {
    courseId: string;
}

// GetRoleInCourseResponse is the response that is sent to the getRoleInCourse endpoint.
export interface GetRoleInCourseResponse {
    role: string | null;
}

// GetThreadAndPostStatsRequest is the request that is sent to the getThreadAndPostStats endpoint.
export interface GetThreadAndPostStatsRequest {
    threadID: string;
}

// GetThreadAndPostStatsResponse is the response that is sent to the getThreadAndPostStats endpoint.
export interface GetThreadAndPostStatsResponse {
    thread: ThreadStats;
    posts: Record<string, PostStats>;
}

// ToggleLikePostRequest is the request that is sent to the toggleLikePost endpoint.
export interface ToggleLikePostRequest {
    postID: string;
}

// ToggleLikePostResponse is the response that is sent to the toggleLikePost endpoint.
export interface ToggleLikePostResponse {

}

// IncrementThreadViewRequest is the request that is sent to the incrementThreadView endpoint.
export interface IncrementThreadViewRequest {
    threadID: string;
}

// IncrementThreadViewResponse is the response that is sent to the incrementThreadView endpoint.
export interface IncrementThreadViewResponse {

}

// GetUserEventsRequest is the request that is sent to the getUserEvents endpoint.
export interface GetUserEventsRequest {

}

// GetUserEventsResponse is the response that is sent to the getUserEvents endpoint.
export interface GetUserEventsResponse {
    events: Record<string, Event[]>;
}

// GetCourseEventsRequest is the request that is sent to the getCourseEvents endpoint.
export interface GetCourseEventsRequest {
    courseId: string;
}

// GetCourseEventsResponse is the response that is sent to the getCourseEvents endpoint.
export interface GetCourseEventsResponse {
    events: Record<string, Event[]>;
}

// GetAnnouncementsRequest is the request that is sent to the getAnnouncements endpoint.
export interface GetAnnouncementsRequest {
    courseIDs?: string[];
}

// GetAnnouncementsResponse is the response that is sent to the getAnnouncements endpoint.
export interface GetAnnouncementsResponse {
    threads: Thread[];
    threadToCourse: Record<string, Course>;
}

// GetCourseMembersRequest is the request that is sent to the getCourseMembers endpoint.
export interface GetCourseMembersRequest {
    courseID: string;
}

// GetCourseMembersResponse is the response that is sent to the getCourseMembers endpoint.
export interface GetCourseMembersResponse {
    users: User[];
    memberships: CourseMembership[];
}

// AddScheduleClassRequest is the request that is sent to the addScheduleClass endpoint.
export interface AddScheduleClassRequest {
    scheduleClass: ScheduleClass;
}

// AddScheduleClassResponse is the response that is sent to the addScheduleClass endpoint.
export interface AddScheduleClassResponse {

}

// CreateDriveFolderRequest is the request that is sent to the createDriveFolder endpoint.
export interface CreateDriveFolderRequest {
    newFolderName: string;
    parentFolderID: string;
}

// CreateDriveFolderResponse is the response that is sent to the createDriveFolder endpoint.
export interface CreateDriveFolderResponse {
    folderInfo: DriveFolderInfo;
}

// GetDriveFolderRequest is the request that is sent to the getDriveFolder endpoint.
export interface GetDriveFolderRequest {
    folderID: string;
}

// GetDriveFolderResponse is the response that is sent to the getDriveFolder endpoint.
export interface GetDriveFolderResponse {
    folder: DriveFolder;
}

// AddDriveItemRequest is the request that is sent to the addDriveItem endpoint.
export interface AddDriveItemRequest {
    url: string;
    name: string;
    folderID: string;
}

// AddDriveItemResponse is the response that is sent to the addDriveItem endpoint.
export interface AddDriveItemResponse {
    item: DriveItem;
}

// GetCourseBookRequest is the request that is sent to the getCourseBook endpoint.
export interface GetCourseBookRequest {
    bookIDs: string[];
}

// GetCourseBookResponse is the response that is sent to the getCourseBook endpoint.
export interface GetCourseBookResponse {
    books: CourseBook[];
}

// GetBooksByCourseRequest is the request that is sent to the getBooksByCourse endpoint.
export interface GetBooksByCourseRequest {
    courseID: string;
}

// GetBooksByCourseResponse is the response that is sent to the getBooksByCourse endpoint.
export interface GetBooksByCourseResponse {
    books: CourseBook[];
}

// CreateBookRequest is the request that is sent to the createBook endpoint.
export interface CreateBookRequest {
    title: string;
    courseID: string;
    parentID?: string;
    content?: any;
}

// CreateBookResponse is the response that is sent to the createBook endpoint.
export interface CreateBookResponse {
    book: CourseBook;
}

// UpdateBookRequest is the request that is sent to the updateBook endpoint.
export interface UpdateBookRequest {
    id: string;
    title: string;
    content?: any;
}

// UpdateBookResponse is the response that is sent to the updateBook endpoint.
export interface UpdateBookResponse {
    book: CourseBook;
}

// DeleteBookRequest is the request that is sent to the deleteBook endpoint.
export interface DeleteBookRequest {
    id: string;
}

// DeleteBookResponse is the response that is sent to the deleteBook endpoint.
export interface DeleteBookResponse {

}


//////////////////////////////
// API Errors
//////////////////////////////

export class APIError extends Error {
    public code?: string;
    constructor(message: string, code?: string) {
        super(message);
        this.code = code;
    }
}

// eslint-disable-next-line
export const isAPIError = (e: any): e is APIError => {
    // eslint-disable-next-line
    return e instanceof APIError || !!e._rpc_error;
}

export class BrainwavesClient {
    private base_url: string;
    private on_error?: (e: Error) => void;

    constructor(base_url: string, on_error?: (e: Error) => void) {
        this.base_url = base_url;
        this.on_error = on_error ?? ((e: Error) => {
            console.error('Error occurred during RPC request:', e);
        })
    }

    captured(on_error: (e: Error) => void) {
        return new BrainwavesClient(this.base_url, on_error);
    }

    async ping(request: PingRequest): Promise<PingResponse> {
        const response = await fetch(`${this.base_url}/ping`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as PingResponse;
    }



    async checkEmail(request: CheckEmailRequest): Promise<CheckEmailResponse> {
        const response = await fetch(`${this.base_url}/checkEmail`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CheckEmailResponse;
    }



    async register(request: RegisterRequest): Promise<RegisterResponse> {
        const response = await fetch(`${this.base_url}/register`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as RegisterResponse;
    }



    async verifyEmail(request: VerifyEmailRequest): Promise<VerifyEmailResponse> {
        const response = await fetch(`${this.base_url}/verifyEmail`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as VerifyEmailResponse;
    }



    async login(request: LoginRequest): Promise<LoginResponse> {
        const response = await fetch(`${this.base_url}/login`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as LoginResponse;
    }



    async verifyForgotPassword(request: VerifyForgotPasswordRequest): Promise<VerifyForgotPasswordResponse> {
        const response = await fetch(`${this.base_url}/verifyForgotPassword`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as VerifyForgotPasswordResponse;
    }



    async forgotPassword(request: ForgotPasswordRequest): Promise<ForgotPasswordResponse> {
        const response = await fetch(`${this.base_url}/forgotPassword`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as ForgotPasswordResponse;
    }



    async getFeatured(request: GetFeaturedRequest): Promise<GetFeaturedResponse> {
        const response = await fetch(`${this.base_url}/getFeatured`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetFeaturedResponse;
    }



    async getUserInfo(request: GetUserInfoRequest): Promise<GetUserInfoResponse> {
        const response = await fetch(`${this.base_url}/getUserInfo`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetUserInfoResponse;
    }



    async getUserInfoByID(request: GetUserInfoByIDRequest): Promise<GetUserInfoByIDResponse> {
        const response = await fetch(`${this.base_url}/getUserInfoByID`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetUserInfoByIDResponse;
    }



    async getUserInfoByIDs(request: GetUserInfoByIDsRequest): Promise<GetUserInfoByIDsResponse> {
        const response = await fetch(`${this.base_url}/getUserInfoByIDs`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetUserInfoByIDsResponse;
    }



    async setUserProfile(request: SetUserProfileRequest): Promise<SetUserProfileResponse> {
        const response = await fetch(`${this.base_url}/setUserProfile`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as SetUserProfileResponse;
    }



    async resetPassword(request: ResetPasswordRequest): Promise<ResetPasswordResponse> {
        const response = await fetch(`${this.base_url}/resetPassword`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as ResetPasswordResponse;
    }



    async createAssessment(request: CreateAssessmentRequest): Promise<CreateAssessmentResponse> {
        const response = await fetch(`${this.base_url}/createAssessment`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CreateAssessmentResponse;
    }



    async submitAnswers(request: SubmitAnswersRequest): Promise<SubmitAnswersResponse> {
        const response = await fetch(`${this.base_url}/submitAnswers`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as SubmitAnswersResponse;
    }



    async submitAssignment(request: SubmitAssignmentRequest): Promise<SubmitAssignmentResponse> {
        const response = await fetch(`${this.base_url}/submitAssignment`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as SubmitAssignmentResponse;
    }



    async manualGradeSubmission(request: ManualGradeSubmissionRequest): Promise<ManualGradeSubmissionResponse> {
        const response = await fetch(`${this.base_url}/manualGradeSubmission`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as ManualGradeSubmissionResponse;
    }



    async assignmentGradeSubmission(request: AssignmentGradeSubmissionRequest): Promise<AssignmentGradeSubmissionResponse> {
        const response = await fetch(`${this.base_url}/assignmentGradeSubmission`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as AssignmentGradeSubmissionResponse;
    }



    async fetchAssessmentDetailsTeacher(request: FetchAssessmentDetailsTeacherRequest): Promise<FetchAssessmentDetailsTeacherResponse> {
        const response = await fetch(`${this.base_url}/fetchAssessmentDetailsTeacher`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchAssessmentDetailsTeacherResponse;
    }



    async fetchAssessmentDetailsStudent(request: FetchAssessmentDetailsStudentRequest): Promise<FetchAssessmentDetailsStudentResponse> {
        const response = await fetch(`${this.base_url}/fetchAssessmentDetailsStudent`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchAssessmentDetailsStudentResponse;
    }



    async fetchAssessmentSubmissions(request: FetchAssessmentSubmissionsRequest): Promise<FetchAssessmentSubmissionsResponse> {
        const response = await fetch(`${this.base_url}/fetchAssessmentSubmissions`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchAssessmentSubmissionsResponse;
    }



    async fetchSubmission(request: FetchSubmissionRequest): Promise<FetchSubmissionResponse> {
        const response = await fetch(`${this.base_url}/fetchSubmission`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchSubmissionResponse;
    }



    async fetchAssessments(request: FetchAssessmentsRequest): Promise<FetchAssessmentsResponse> {
        const response = await fetch(`${this.base_url}/fetchAssessments`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchAssessmentsResponse;
    }



    async fetchStudentSubmission(request: FetchStudentSubmissionRequest): Promise<FetchStudentSubmissionResponse> {
        const response = await fetch(`${this.base_url}/fetchStudentSubmission`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchStudentSubmissionResponse;
    }



    async fetchUserStats(request: FetchUserStatsRequest): Promise<FetchUserStatsResponse> {
        const response = await fetch(`${this.base_url}/fetchUserStats`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchUserStatsResponse;
    }



    async fetchUserSevenDayActivity(request: FetchUserSevenDayActivityRequest): Promise<FetchUserSevenDayActivityResponse> {
        const response = await fetch(`${this.base_url}/fetchUserSevenDayActivity`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as FetchUserSevenDayActivityResponse;
    }



    async createCourse(request: CreateCourseRequest): Promise<CreateCourseResponse> {
        const response = await fetch(`${this.base_url}/createCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CreateCourseResponse;
    }



    async updateCourse(request: UpdateCourseRequest): Promise<UpdateCourseResponse> {
        const response = await fetch(`${this.base_url}/updateCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as UpdateCourseResponse;
    }



    async getCourses(request: GetCoursesRequest): Promise<GetCoursesResponse> {
        const response = await fetch(`${this.base_url}/getCourses`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetCoursesResponse;
    }



    async getUserCourses(request: GetUserCoursesRequest): Promise<GetUserCoursesResponse> {
        const response = await fetch(`${this.base_url}/getUserCourses`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetUserCoursesResponse;
    }



    async createCourseInvitation(request: CreateCourseInvitationRequest): Promise<CreateCourseInvitationResponse> {
        const response = await fetch(`${this.base_url}/createCourseInvitation`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CreateCourseInvitationResponse;
    }



    async joinCourse(request: JoinCourseRequest): Promise<JoinCourseResponse> {
        const response = await fetch(`${this.base_url}/joinCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as JoinCourseResponse;
    }



    async leaveCourse(request: LeaveCourseRequest): Promise<LeaveCourseResponse> {
        const response = await fetch(`${this.base_url}/leaveCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as LeaveCourseResponse;
    }



    async removeMemberFromCourse(request: RemoveMemberFromCourseRequest): Promise<RemoveMemberFromCourseResponse> {
        const response = await fetch(`${this.base_url}/removeMemberFromCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as RemoveMemberFromCourseResponse;
    }



    async getForumByCourseID(request: GetForumByCourseIDRequest): Promise<GetForumByCourseIDResponse> {
        const response = await fetch(`${this.base_url}/getForumByCourseID`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetForumByCourseIDResponse;
    }



    async getForumByID(request: GetForumByIDRequest): Promise<GetForumByIDResponse> {
        const response = await fetch(`${this.base_url}/getForumByID`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetForumByIDResponse;
    }



    async getThreads(request: GetThreadsRequest): Promise<GetThreadsResponse> {
        const response = await fetch(`${this.base_url}/getThreads`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetThreadsResponse;
    }



    async upsertThread(request: UpsertThreadRequest): Promise<UpsertThreadResponse> {
        const response = await fetch(`${this.base_url}/upsertThread`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as UpsertThreadResponse;
    }



    async deleteThread(request: DeleteThreadRequest): Promise<DeleteThreadResponse> {
        const response = await fetch(`${this.base_url}/deleteThread`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as DeleteThreadResponse;
    }



    async upsertPost(request: UpsertPostRequest): Promise<UpsertPostResponse> {
        const response = await fetch(`${this.base_url}/upsertPost`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as UpsertPostResponse;
    }



    async deletePost(request: DeletePostRequest): Promise<DeletePostResponse> {
        const response = await fetch(`${this.base_url}/deletePost`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as DeletePostResponse;
    }



    async getRoleInCourse(request: GetRoleInCourseRequest): Promise<GetRoleInCourseResponse> {
        const response = await fetch(`${this.base_url}/getRoleInCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetRoleInCourseResponse;
    }



    async getThreadAndPostStats(request: GetThreadAndPostStatsRequest): Promise<GetThreadAndPostStatsResponse> {
        const response = await fetch(`${this.base_url}/getThreadAndPostStats`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetThreadAndPostStatsResponse;
    }



    async toggleLikePost(request: ToggleLikePostRequest): Promise<ToggleLikePostResponse> {
        const response = await fetch(`${this.base_url}/toggleLikePost`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as ToggleLikePostResponse;
    }



    async incrementThreadView(request: IncrementThreadViewRequest): Promise<IncrementThreadViewResponse> {
        const response = await fetch(`${this.base_url}/incrementThreadView`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as IncrementThreadViewResponse;
    }



    async getUserEvents(request: GetUserEventsRequest): Promise<GetUserEventsResponse> {
        const response = await fetch(`${this.base_url}/getUserEvents`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetUserEventsResponse;
    }



    async getCourseEvents(request: GetCourseEventsRequest): Promise<GetCourseEventsResponse> {
        const response = await fetch(`${this.base_url}/getCourseEvents`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetCourseEventsResponse;
    }



    async getAnnouncements(request: GetAnnouncementsRequest): Promise<GetAnnouncementsResponse> {
        const response = await fetch(`${this.base_url}/getAnnouncements`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetAnnouncementsResponse;
    }



    async getCourseMembers(request: GetCourseMembersRequest): Promise<GetCourseMembersResponse> {
        const response = await fetch(`${this.base_url}/getCourseMembers`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetCourseMembersResponse;
    }



    async addScheduleClass(request: AddScheduleClassRequest): Promise<AddScheduleClassResponse> {
        const response = await fetch(`${this.base_url}/addScheduleClass`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as AddScheduleClassResponse;
    }



    async createDriveFolder(request: CreateDriveFolderRequest): Promise<CreateDriveFolderResponse> {
        const response = await fetch(`${this.base_url}/createDriveFolder`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CreateDriveFolderResponse;
    }



    async getDriveFolder(request: GetDriveFolderRequest): Promise<GetDriveFolderResponse> {
        const response = await fetch(`${this.base_url}/getDriveFolder`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetDriveFolderResponse;
    }



    async addDriveItem(request: AddDriveItemRequest): Promise<AddDriveItemResponse> {
        const response = await fetch(`${this.base_url}/addDriveItem`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as AddDriveItemResponse;
    }



    async getCourseBook(request: GetCourseBookRequest): Promise<GetCourseBookResponse> {
        const response = await fetch(`${this.base_url}/getCourseBook`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetCourseBookResponse;
    }



    async getBooksByCourse(request: GetBooksByCourseRequest): Promise<GetBooksByCourseResponse> {
        const response = await fetch(`${this.base_url}/getBooksByCourse`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as GetBooksByCourseResponse;
    }



    async createBook(request: CreateBookRequest): Promise<CreateBookResponse> {
        const response = await fetch(`${this.base_url}/createBook`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as CreateBookResponse;
    }



    async updateBook(request: UpdateBookRequest): Promise<UpdateBookResponse> {
        const response = await fetch(`${this.base_url}/updateBook`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as UpdateBookResponse;
    }



    async deleteBook(request: DeleteBookRequest): Promise<DeleteBookResponse> {
        const response = await fetch(`${this.base_url}/deleteBook`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(request)
        });

        const json = await response.json();

        if (!response.ok) {
            let err = new Error("RPC Request Failed.");

            if (isAPIError(json)) {
                switch (response.status) {
                    case 400:
                        err = new APIError(json.message, json.code);
                        break;
                    case 500:
                        err = new Error(json.message);
                        break;
                }
            }

            if (this.on_error) {
                this.on_error(err);
            }

            throw err;
        }

        return json as DeleteBookResponse;
    }
}

export const brainwavesAPI = new BrainwavesClient('/api');
